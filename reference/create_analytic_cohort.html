<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>create_analytic_cohort — create_analytic_cohort • genieBPC</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="create_analytic_cohort — create_analytic_cohort" />
<meta property="og:description" content="This function allows the user to create a cohort from the GENIE BPC data
based on cancer diagnosis information such as cancer cohort, treating
institution, histology, and stage at diagnosis, as well as cancer-directed
regimen information including regimen name and regimen order.
This function returns two datasets:
(1) `cohort_ca_dx` will contain cancer diagnosis information for patients
matching the specified criteria. This dataset is structured as one record per
 patient per associated cancer diagnosis.
(2) `cohort_ca_drugs` will return the drug-regimen information for patients
matching the specified criteria. This dataset is structured as one record per
 patient, per regimen and associated cancer diagnosis. For example, a drug
 regimen associated with treating two cancer diagnoses will have two records
 in this dataset.
The function inputs `cohort`, `institution`, `stage_dx`,
and `regimen_drugs` correspond to the variable
names in the GENIE BPC Analytic Data Guide, available on
Synapse." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">genieBPC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/clinical_data_structure_vignette.html">Tutorial: GENIE BPC Data Structure</a>
    </li>
    <li>
      <a href="../articles/create_analytic_cohort_vignette.html">Tutorial: create_analytic_cohort</a>
    </li>
    <li>
      <a href="../articles/drug_regimen_sunburst_vignette.html">Tutorial: drug_regimen_sunburst</a>
    </li>
    <li>
      <a href="../articles/pull_data_synapse_vignette.html">Tutorial: pull_data_synapse</a>
    </li>
    <li>
      <a href="../articles/select_unique_ngs_vignette.html">Tutorial: select_unique_ngs</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/GENIE-BPC/genieBPC/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>create_analytic_cohort</h1>
    <small class="dont-index">Source: <a href='https://github.com/GENIE-BPC/genieBPC/blob/master/R/create_analytic_cohort.R'><code>R/create_analytic_cohort.R</code></a></small>
    <div class="hidden name"><code>create_analytic_cohort.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function allows the user to create a cohort from the GENIE BPC data
based on cancer diagnosis information such as cancer cohort, treating
institution, histology, and stage at diagnosis, as well as cancer-directed
regimen information including regimen name and regimen order.
This function returns two datasets:
(1) `cohort_ca_dx` will contain cancer diagnosis information for patients
matching the specified criteria. This dataset is structured as one record per
 patient per associated cancer diagnosis.
(2) `cohort_ca_drugs` will return the drug-regimen information for patients
matching the specified criteria. This dataset is structured as one record per
 patient, per regimen and associated cancer diagnosis. For example, a drug
 regimen associated with treating two cancer diagnoses will have two records
 in this dataset.
The function inputs `cohort`, `institution`, `stage_dx`,
and `regimen_drugs` correspond to the variable
names in the GENIE BPC Analytic Data Guide, available on
<a href='https://www.synapse.org/#!Synapse:syn21241322'>Synapse</a>.</p>
    </div>

    <pre class="usage"><span class='fu'>create_analytic_cohort</span><span class='op'>(</span>
  <span class='va'>cohort</span>,
  <span class='va'>data_synapse</span>,
  index_ca_seq <span class='op'>=</span> <span class='fl'>1</span>,
  <span class='va'>institution</span>,
  <span class='va'>stage_dx</span>,
  <span class='va'>histology</span>,
  <span class='va'>regimen_drugs</span>,
  regimen_type <span class='op'>=</span> <span class='st'>"Exact"</span>,
  <span class='va'>regimen_order</span>,
  <span class='va'>regimen_order_type</span>,
  return_summary <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>cohort</th>
      <td><p>GENIE BPC Project cancer. Must be one of "NSCLC"
(non-small cell lung cancer) or "CRC" (colorectal cancer). Future cohorts
will include "BrCa" (breast cancer), "PANC" (pancreatic cancer),
"Prostate" (prostate cancer).</p></td>
    </tr>
    <tr>
      <th>data_synapse</th>
      <td><p>The list returned from pull_data_synapse().</p></td>
    </tr>
    <tr>
      <th>index_ca_seq</th>
      <td><p>Index cancer sequence. Default is 1, indicating the
patient's first index cancer. The index cancer is also referred to as the
BPC Project cancer in the GENIE BPC Analytic Data Guide; this is the
cancer that met the eligibility criteria for the project and was selected
at random for PRISSMM phenomic data curation. Specifying multiple index
cancer sequences, e.g. index_ca_seq = c(1, 2) will return index cancers to
patients with 1 index cancer and will return the first AND second index
cancers to patients with multiple.</p></td>
    </tr>
    <tr>
      <th>institution</th>
      <td><p>GENIE BPC participating institution. Must be one of
"DFCI", "MSK", "UHN", or "VICC" for NSCLC cohorts; must be one of "DFCI",
"MSK", "VICC" for CRC. Default selection is all institutions.</p></td>
    </tr>
    <tr>
      <th>stage_dx</th>
      <td><p>Stage at diagnosis. Must be one of "Stage I", "Stage II",
"Stage III", "Stage I-III NOS", "Stage IV". Default selection is all stages.</p></td>
    </tr>
    <tr>
      <th>histology</th>
      <td><p>Cancer histology. For all cancer cohorts except for BrCa
(breast cancer), this corresponds to the variable `ca_hist_adeno_squamous`
and must be one of "Adenocarcinoma", "Squamous cell", "Sarcoma",
"Small cell carcinoma", "Carcinoma", "Other histologies/mixed tumor".
 For BrCa, this corresponds to the variable
`ca_hist_brca` and must be one of
"Invasive lobular carcinoma", "Invasive ductal carcinoma", "Other histology".
Default selection is all histologies.</p></td>
    </tr>
    <tr>
      <th>regimen_drugs</th>
      <td><p>Vector with names of drugs in cancer-directed regimen,
separated by a comma. For example, to specify a regimen consisting of
Carboplatin and Pemetrexed, specify regimen_drugs = "Carboplatin,
Pemetrexed". Acceptable values are found in the `drug_regimen_list`
dataset provided with this package.</p></td>
    </tr>
    <tr>
      <th>regimen_type</th>
      <td><p>Indicates whether the regimen(s) specified in
`regimen_drugs` indicates the exact regimen to return, or if regimens
containing the drugs listed in `regimen_drugs` should be returned. Must be
one of "Exact" or "Containing". The default is "Exact".</p></td>
    </tr>
    <tr>
      <th>regimen_order</th>
      <td><p>Order of cancer-directed regimen. If multiple drugs
are specified, `regimen_order` indicates the regimen order for all drugs;
different values of `regimen_order` cannot be specified for different drug
regimens. If multiple values are specified, e.g. c(1, 2), then drug regimens
that met either order criteria are returned.</p></td>
    </tr>
    <tr>
      <th>regimen_order_type</th>
      <td><p>Specifies whether the `regimen_order` parameter
refers to the order of receipt of the drug regimen within the cancer
diagnosis (across all other drug regimens; "within cancer") or the order of
receipt of the drug regimen within the times that that drug regimen was
administered (e.g. the first time carboplatin pemetrexed was received, out
of all times that the patient received carboplatin pemetrexed; "within
regimen"). Acceptable values are "within cancer" and "within regimen".</p></td>
    </tr>
    <tr>
      <th>return_summary</th>
      <td><p>Specifies whether a summary table for the cohort is
returned. Default is FALSE. The `gtsummary` package is required to return a
summary table.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns data frames `cohort_ca_dx` and `cohort_ca_drugs`</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Jessica Lavery</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Example 1 ----------------------------------</span>
<span class='co'># Create a cohort of all patients with stage IV NSCLC adenocarcinoma and</span>
<span class='co'># also return all of their corresponding cancer-directed drugs</span>
<span class='co'># pull_data_synapse("NSCLC")</span>
<span class='co'># create_analytic_cohort(cohort = "NSCLC",</span>
<span class='co'>#   stage_dx = c("Stage IV"),</span>
<span class='co'>#   histology = "Adenocarcinoma")</span>

<span class='co'># Example 2 ----------------------------------</span>
<span class='co'># Create a cohort of all NSCLC patients who received Cisplatin,</span>
<span class='co'># Pemetrexed Disodium or Cisplatin, Etoposide as their first drug regimen</span>
<span class='co'># for their first index NSCLC</span>
<span class='co'># pull_data_synapse("NSCLC")</span>
<span class='co'># create_analytic_cohort(cohort = "NSCLC",</span>
<span class='co'>#   regimen_drugs = c("Cisplatin, Pemetrexed Disodium", "Cisplatin,</span>
<span class='co'>#   Etoposide"),</span>
<span class='co'>#   regimen_order = 1,</span>
<span class='co'>#   regimen_order_type = "within cancer")</span>

<span class='co'># Example 3 ----------------------------------</span>
<span class='co'># Create a cohort of all NSCLC patients who received Cisplatin, Pemetrexed</span>
<span class='co'># Disodium</span>
<span class='co'># at any time throughout the course of treatment for their cancer diagnosis,</span>
<span class='co'># but in the event that the patient received the drug multiple times,</span>
<span class='co'># only select the first time.</span>
<span class='co'># pull_data_synapse("NSCLC")</span>
<span class='co'># create_analytic_cohort(cohort = "NSCLC",</span>
<span class='co'>#   regimen_drugs = c("Cisplatin, Pemetrexed Disodium"),</span>
<span class='co'>#   regimen_order = 1,</span>
<span class='co'>#   regimen_order_type = "within regimen")</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jessica Lavery, Michael A. Curry, Samantha Brown, Axel Martin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


